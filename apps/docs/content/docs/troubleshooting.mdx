---
title: Troubleshooting
description: Common issues and solutions.
icon: BadgeAlert
---

## SSH Connection Issues

### Host Key Verification Failed

**Symptom**:
```
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
```

**Cause**: Server Host Key changed after redeployment.

**Solution**:
```bash
# Remove old Host Key
ssh-keygen -R "[tunnl.example.com]:2222"

# Reconnect
ssh -N -R 80:localhost:3000 -p 2222 user@tunnl.example.com
```

### Connection Timeout

**Symptom**:
```
ssh: connect to host tunnl.example.com port 2222: Connection timed out
```

**Troubleshooting Steps**:

1. Check if port is open:
   ```bash
   nc -zv tunnl.example.com 2222
   ```

2. Check firewall rules:
   ```bash
   # Cloud server security groups need to allow port 2222
   ```

3. Check if service is running:
   ```bash
   docker compose ps
   docker compose logs tunnl
   ```

### Permission Denied

**Symptom**:
```
Permission denied (publickey).
```

**Cause**: Device Flow authentication not completed or timed out.

**Solution**:
- Make sure to complete browser authentication as prompted
- Authentication expires after 5 minutes, reconnect if timed out

---

## Device Flow Authentication Issues

### Invalid Verification Code

**Symptom**: Browser shows "Code not found" or "Code expired".

**Cause**:
- Verification code entered incorrectly
- Authentication request timed out (5 minutes)

**Solution**:
```bash
# Disconnect and reconnect
# Press Enter then type ~.
# Reconnect to get a new verification code
ssh -N -R 80:localhost:3000 -p 2222 user@tunnl.example.com
```

### Cannot Access Authentication Page

**Symptom**: Browser cannot open `https://tunnl.example.com/activate`.

**Troubleshooting Steps**:

1. Check if Web service is running:
   ```bash
   docker compose logs web
   ```

2. Check reverse proxy configuration:
   ```bash
   # Nginx
   nginx -t
   
   # Caddy
   caddy validate
   ```

---

## Tunnel Access Issues

### Subdomain Resolution Failed

**Symptom**:
```
curl: (6) Could not resolve host: abc123.tunnl.example.com
```

**Cause**: DNS wildcard record not configured.

**Solution**:
```
# Add DNS record
*.tunnl.example.com  A  <server IP>
```

### 502 Bad Gateway

**Symptom**: Accessing tunnel URL returns 502 error.

**Possible Causes**:

1. **Local service not running**
   ```bash
   # Make sure local service is running
   curl localhost:3000
   ```

2. **SSH tunnel disconnected**
   ```bash
   # Check if SSH connection is alive
   # Reconnect
   ssh -N -R 80:localhost:3000 -p 2222 user@tunnl.example.com
   ```

3. **HTTP Proxy service error**
   ```bash
   docker compose logs tunnl | grep -i error
   ```

---

## Disconnecting SSH Connection

In SSH reverse tunnel mode, `Ctrl+C` should terminate the connection.

### Using Escape Sequence

```
1. Press Enter (ensure you're at the beginning of a new line)
2. Type ~. (tilde + period)
```

> [!TIP]
> If using nested SSH (SSH to jump host first, then SSH to EXLO), press `~` twice: `~~.`

### Terminate from Web Dashboard

1. Login to Web Dashboard
2. Navigate to tunnel list
3. Click "Disconnect" button for the corresponding tunnel

---

## Viewing Logs

```bash
# View all logs
docker compose logs -f

# View SSH service logs only
docker compose logs -f tunnl

# View Web service logs
docker compose logs -f web

# Filter error logs
docker compose logs tunnl 2>&1 | grep -i error
```
